---
description: Usar o painel funcionários do serviço para gerenciar e depurar seus trabalhadores de serviço
title: DevTools-depurador-funcionários do serviço
author: MSEdgeTeam
ms.author: msedgedevrel
ms.topic: article
ms.prod: microsoft-edge
keywords: Microsoft Edge, desenvolvimento da Web, Ferramentas F12, devtools, depurador, depuração, PWA, trabalho do serviço, API do cache
ms.custom: seodec18
ms.date: 11/19/2020
ROBOTS: NOINDEX,NOFOLLOW
ms.openlocfilehash: 99592f787da8bcf89d2e16231aa3f39047b4fc0b
ms.sourcegitcommit: a35a6b5bbc21b7df61d08cbc6b074b5325ad4fef
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 12/17/2020
ms.locfileid: "11231708"
---
# <span data-ttu-id="4dfae-104">Profissionais de Serviço</span><span class="sxs-lookup"><span data-stu-id="4dfae-104">Service Workers</span></span>

<span data-ttu-id="4dfae-105">O painel **funcionários do serviço** tem ferramentas para gerenciar e depurar os trabalhadores do serviço para o seu site, para ajudá-lo a:</span><span class="sxs-lookup"><span data-stu-id="4dfae-105">The **Service Workers** panel has tools for managing and debugging the service workers for your site, to help you:</span></span>

 - <span data-ttu-id="4dfae-106">Obter uma visão geral de todos os funcionários de serviço associados ao seu site e detalhes de seu escopo e status</span><span class="sxs-lookup"><span data-stu-id="4dfae-106">Get an overview of all the service workers associated with your site and details of their scope and status</span></span>
 - <span data-ttu-id="4dfae-107">**Atualizar** e gerenciar (**Cancelar registro**) o registro de trabalho do serviço para o escopo especificado</span><span class="sxs-lookup"><span data-stu-id="4dfae-107">**Update** and manage (**Unregister**) the service worker registration for the given scope</span></span>
 - <span data-ttu-id="4dfae-108">**Enviar** uma notificação de teste</span><span class="sxs-lookup"><span data-stu-id="4dfae-108">**Push** a test notification</span></span>
 - <span data-ttu-id="4dfae-109">**Parar** / **Inicie** trabalhadores de serviço individuais e</span><span class="sxs-lookup"><span data-stu-id="4dfae-109">**Stop**/**Start** individual service workers, and</span></span>
 - <span data-ttu-id="4dfae-110">**Inspecionar** o trabalhador de serviço selecionado em uma janela separada do depurador</span><span class="sxs-lookup"><span data-stu-id="4dfae-110">**Inspect** the selected service worker in a separate debugger window</span></span>

![Painel Visão geral do trabalhador do serviço](./media/service_worker.png)

<span data-ttu-id="4dfae-112">Observe o seguinte sobre a depuração de trabalhador de serviço no Edge DevTools:</span><span class="sxs-lookup"><span data-stu-id="4dfae-112">Please note the following about service worker debugging in Edge DevTools:</span></span>

 - <span data-ttu-id="4dfae-113">A depuração de um trabalhador de serviço iniciará uma nova instância do DevTools separada das ferramentas da página, pois os trabalhadores do serviço podem ser compartilhados entre várias guias.</span><span class="sxs-lookup"><span data-stu-id="4dfae-113">Debugging a service worker will launch a new instance of the  DevTools separate from the page's tools because service workers can be shared across multiple tabs.</span></span>
 - <span data-ttu-id="4dfae-114">Os painéis de [**elementos**](./elements.md) e [**emulação**](./emulation.md) estão ausentes do depurador de trabalho do serviço, pois os trabalhadores do serviço são executados em segundo plano e não controlam diretamente o front-end do seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="4dfae-114">The [**Elements**](./elements.md) and [**Emulation**](./emulation.md) panels are absent from the service worker debugger, given that service workers run in the background and do not directly control the front-end of your app.</span></span>
 - <span data-ttu-id="4dfae-115">Atualmente, o tráfego de rede para um trabalhador de serviço é reportado apenas da instância de depuração DevTools para esse trabalhador, e não da instância do depurador para a própria página.</span><span class="sxs-lookup"><span data-stu-id="4dfae-115">Currently network traffic for a service worker is only reported from the  DevTools debugging instance for that worker, and not from the debugger instance for the page itself.</span></span>
 - <span data-ttu-id="4dfae-116">Para simular um **Push** da devtools, você precisará adicionar um ouvinte de evento *Push* ao seu trabalhador do serviço para observar o efeito.</span><span class="sxs-lookup"><span data-stu-id="4dfae-116">To simulate a **Push** from the DevTools, you'll need to add a *push* event listener to your service worker in order to observe its effect.</span></span> <span data-ttu-id="4dfae-117">O exemplo a seguir imprimirá "testar mensagem de envio de DevTools" no **console**do serviço de trabalho.</span><span class="sxs-lookup"><span data-stu-id="4dfae-117">The following example will print "Test push message from DevTools" in your service worker **Console**.</span></span>

   ```JavaScript
   self.addEventListener('push', function(event){
       console.log(event.data.text());
   });
   ```

<span data-ttu-id="4dfae-118">Aqui estão algumas coisas gerais a serem lembradas ao usar trabalhadores de serviço:</span><span class="sxs-lookup"><span data-stu-id="4dfae-118">Here are some general things to keep in mind when using service workers:</span></span>

- **<span data-ttu-id="4dfae-119">Somente HTTPS.</span><span class="sxs-lookup"><span data-stu-id="4dfae-119">HTTPS-only.</span></span>** <span data-ttu-id="4dfae-120">Os funcionários do serviço não funcionarão em HTTP; será preciso usar HTTPS.</span><span class="sxs-lookup"><span data-stu-id="4dfae-120">Service workers will not work in HTTP; you will need to use HTTPS.</span></span> <span data-ttu-id="4dfae-121">No entanto, você pode registrar trabalhadores `localhost` de serviço para fins de teste.</span><span class="sxs-lookup"><span data-stu-id="4dfae-121">However, you can register service workers on `localhost` for testing purposes.</span></span>

- **<span data-ttu-id="4dfae-122">Não é permitido acesso DOM.</span><span class="sxs-lookup"><span data-stu-id="4dfae-122">No DOM access allowed.</span></span>** <span data-ttu-id="4dfae-123">Assim como em funcionários da Web, você não obtém acesso ao modelo de objeto da página.</span><span class="sxs-lookup"><span data-stu-id="4dfae-123">As with web workers, you don't get access to the page's object model.</span></span> <span data-ttu-id="4dfae-124">Isso significa que, se você precisar alterar algo sobre a página, será necessário usar [`postMessage`](https://developer.mozilla.org/docs/Web/API/Worker/postMessage) o trabalhador do serviço para a página para que você possa manipular alterações de dom da página.</span><span class="sxs-lookup"><span data-stu-id="4dfae-124">This means that if you need to change something about the page, you'll need to use [`postMessage`](https://developer.mozilla.org/docs/Web/API/Worker/postMessage) from the service worker to the page so that you can handle it DOM changes from the page.</span></span>

- **<span data-ttu-id="4dfae-125">Executa a partir de uma página separada.</span><span class="sxs-lookup"><span data-stu-id="4dfae-125">Executes separate from page.</span></span>** <span data-ttu-id="4dfae-126">Como esses scripts não estão ligados ao tempo de vida de uma página, é importante entender que eles não compartilham o mesmo contexto que a página.</span><span class="sxs-lookup"><span data-stu-id="4dfae-126">Because these scripts are not tied to the lifetime of a page, it's important to understand that they do not share the same context as the page.</span></span> <span data-ttu-id="4dfae-127">Além de não ter acesso ao DOM (conforme declarado anteriormente), ele não terá acesso às mesmas variáveis disponíveis na página.</span><span class="sxs-lookup"><span data-stu-id="4dfae-127">Aside from not having access to the DOM (as stated earlier), they won't have access to the same variables available on the page.</span></span>

- **<span data-ttu-id="4dfae-128">Substitui o *cache do aplicativo*.</span><span class="sxs-lookup"><span data-stu-id="4dfae-128">Overrides *App Cache*.</span></span>** <span data-ttu-id="4dfae-129">O cache do aplicativo será ignorado quando os funcionários do serviço estiverem em uso.</span><span class="sxs-lookup"><span data-stu-id="4dfae-129">App Cache will be ignored when service workers are in use.</span></span> <span data-ttu-id="4dfae-130">A API de trabalho do serviço destina-se a supplant completamente o cache do aplicativo fornecendo controle mais granular ao desenvolvedor da Web.</span><span class="sxs-lookup"><span data-stu-id="4dfae-130">The Service Worker API is intended to entirely supplant App Cache  by giving more granular control to the web developer.</span></span>

  - **<span data-ttu-id="4dfae-131">O script não pode estar em CDN.</span><span class="sxs-lookup"><span data-stu-id="4dfae-131">Script can't be on CDN.</span></span>** <span data-ttu-id="4dfae-132">O arquivo JavaScript para o trabalho de serviço não pode ser hospedado em uma CDN (rede de distribuição de conteúdo), ele deve estar no mesmo domínio da página.</span><span class="sxs-lookup"><span data-stu-id="4dfae-132">The JavaScript file for the service worker can't be hosted on a Content Distribution Network (CDN), it must be on the same domain as the page.</span></span> <span data-ttu-id="4dfae-133">No entanto, se quiser, você pode importar scripts da CDN.</span><span class="sxs-lookup"><span data-stu-id="4dfae-133">However, if you like, you can import scripts from your CDN.</span></span>

- **<span data-ttu-id="4dfae-134">Pode ser encerrado a qualquer momento.</span><span class="sxs-lookup"><span data-stu-id="4dfae-134">Can be terminated any time.</span></span>** <span data-ttu-id="4dfae-135">Os funcionários de serviço devem ser de curta duração, e o tempo de vida deles está vinculado a eventos.</span><span class="sxs-lookup"><span data-stu-id="4dfae-135">Service workers are meant to be short-lived and their lifetime is tied to events.</span></span> <span data-ttu-id="4dfae-136">Em particular, os funcionários de serviço têm um limite de tempo no qual eles devem concluir a execução dos manipuladores de eventos.</span><span class="sxs-lookup"><span data-stu-id="4dfae-136">In particular, service workers have a time limit in which they must finish executing their event handlers.</span></span> <span data-ttu-id="4dfae-137">Em outros casos, o navegador ou o sistema operacional podem optar por encerrar um trabalhador de serviço que afete a bateria, a CPU ou o consumo de memória.</span><span class="sxs-lookup"><span data-stu-id="4dfae-137">In other cases, the browser or the operating system may choose to terminate a service worker that impacts the battery, CPU, or memory consumption.</span></span> <span data-ttu-id="4dfae-138">Em ambos os casos, evite confiar nas variáveis globais no script de trabalho do serviço, caso uma instância diferente do trabalho do serviço seja usada em um evento subsequente que está sendo manipulado.</span><span class="sxs-lookup"><span data-stu-id="4dfae-138">In either case, avoid relying on global variables in the service worker script in case a different service worker instance is used on a subsequent event that's being handled.</span></span>

- **<span data-ttu-id="4dfae-139">Somente solicitações assíncronas permitidas.</span><span class="sxs-lookup"><span data-stu-id="4dfae-139">Only asynchronous requests allowed.</span></span>** <span data-ttu-id="4dfae-140">O XHR síncrono não é permitido aqui!</span><span class="sxs-lookup"><span data-stu-id="4dfae-140">Synchronous XHR is not allowed here!</span></span> <span data-ttu-id="4dfae-141">Nada é localStorage, portanto, é melhor usar o IndexedDB e a nova API de caches descrita anteriormente.</span><span class="sxs-lookup"><span data-stu-id="4dfae-141">Neither is localStorage, so it's best to make use of IndexedDB and the new Caches API described earlier.</span></span>

- **<span data-ttu-id="4dfae-142">O trabalhador do serviço para o escopo é 1:1.</span><span class="sxs-lookup"><span data-stu-id="4dfae-142">Service worker to scope is 1:1.</span></span>** <span data-ttu-id="4dfae-143">Você só poderá ter um trabalho de serviço por escopo.</span><span class="sxs-lookup"><span data-stu-id="4dfae-143">You'll only be able to have one service worker per scope.</span></span> <span data-ttu-id="4dfae-144">Isso significa que se você tentar registrar um trabalho de serviço diferente para um escopo que já tenha um trabalhador de serviço, esse trabalho de serviço será atualizado.</span><span class="sxs-lookup"><span data-stu-id="4dfae-144">That means if you try to register a different service worker for a scope that already has a service worker, that service worker will be updated.</span></span>
