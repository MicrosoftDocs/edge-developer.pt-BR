---
description: Saiba mais sobre as práticas recomendadas de desenvolvimento a ser usadas ao desenvolver seu aplicativo WebView2.
title: Práticas recomendadas de desenvolvimento do WebView2
author: MSEdgeTeam
ms.author: msedgedevrel
ms.date: 05/06/2021
ms.topic: conceptual
ms.prod: microsoft-edge
ms.technology: webview
keywords: WebView2, webview2, WebView, webview, edge, práticas recomendadas
ms.openlocfilehash: 3982f47e0fe58287582915673d4ba0de0365a55d
ms.sourcegitcommit: 777b16ef10363f2dfd755f115ee2d4c81a8de46f
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 05/07/2021
ms.locfileid: "11535654"
---
# <a name="webview2-development-best-practices"></a><span data-ttu-id="fe687-104">Práticas recomendadas de desenvolvimento do WebView2</span><span class="sxs-lookup"><span data-stu-id="fe687-104">WebView2 development best practices</span></span>  

<span data-ttu-id="fe687-105">Cada equipe de desenvolvimento segue práticas diferentes ao criar seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="fe687-105">Every development team follows different practices when building their application.</span></span> <span data-ttu-id="fe687-106">Quando você cria aplicativos WebView2, há práticas que recomendamos seguir.</span><span class="sxs-lookup"><span data-stu-id="fe687-106">When you build WebView2 applications, there are practices we recommend you follow.</span></span> <span data-ttu-id="fe687-107">Este artigo descreve essas recomendações e práticas recomendadas para você ao criar aplicativos WebView2 baseados em produção.</span><span class="sxs-lookup"><span data-stu-id="fe687-107">This article outlines those recommendations and best practices for you when building production-based WebView2 applications.</span></span>


## <a name="use-evergreen-webview2-runtime-recommended"></a><span data-ttu-id="fe687-108">Usar o Tempo de Execução do Evergreen WebView2 (recomendado)</span><span class="sxs-lookup"><span data-stu-id="fe687-108">Use Evergreen WebView2 Runtime (recommended)</span></span>  

<span data-ttu-id="fe687-109">Embora a Versão Fixa tenha seus casos de uso para aplicativos com requisitos estritos de compatibilidade, geralmente recomendamos usar o Evergreen WebView2 Runtime.</span><span class="sxs-lookup"><span data-stu-id="fe687-109">While Fixed Version has its use cases for apps that have strict compatibility requirements, we generally recommend using the Evergreen WebView2 Runtime.</span></span>  <span data-ttu-id="fe687-110">O Evergreen WebView2 Runtime é atualizado automaticamente e inclui os recursos mais recentes e patches de segurança disponíveis para seu aplicativo WebView2.</span><span class="sxs-lookup"><span data-stu-id="fe687-110">The Evergreen WebView2 Runtime updates automatically and includes the latest features and security patches available to your WebView2 application.</span></span> <span data-ttu-id="fe687-111">O Evergreen WebView2 Runtime também requer menos espaço de armazenamento no disco.</span><span class="sxs-lookup"><span data-stu-id="fe687-111">The Evergreen WebView2 Runtime also requires less storage space on the disk.</span></span>

<span data-ttu-id="fe687-112">Verifique se o Tempo de Execução do WebView2 evergreen está instalado antes de usar seu aplicativo WebView2.</span><span class="sxs-lookup"><span data-stu-id="fe687-112">Ensure the Evergreen WebView2 Runtime is installed before using your WebView2 application.</span></span>  <span data-ttu-id="fe687-113">Para obter mais informações, navegue até [Deploying the Evergreen WebView2 Runtime][Webview2ConceptsDistributionDeployingEvergreenWebview2Runtime].</span><span class="sxs-lookup"><span data-stu-id="fe687-113">For more information, navigate to [Deploying the Evergreen WebView2 Runtime][Webview2ConceptsDistributionDeployingEvergreenWebview2Runtime].</span></span>  

## <a name="run-compatibility-tests-regularly-when-using-the-evergreen-webview2-runtime"></a><span data-ttu-id="fe687-114">Executar testes de compatibilidade regularmente ao usar o Evergreen WebView2 Runtime</span><span class="sxs-lookup"><span data-stu-id="fe687-114">Run compatibility tests regularly when using the Evergreen WebView2 Runtime</span></span>

<span data-ttu-id="fe687-115">Ao usar o Evergreen WebView2 Runtime, certifique-se de executar testes de compatibilidade regulares.</span><span class="sxs-lookup"><span data-stu-id="fe687-115">When using the Evergreen WebView2 Runtime, ensure you run regular compatibility tests.</span></span> <span data-ttu-id="fe687-116">Como o tempo de execução é atualizado automaticamente, teste o conteúdo da Web no controle WebView2 em relação às versões não estáveis do Microsoft Edge para garantir que seu aplicativo WebView2 seja executado conforme o esperado.</span><span class="sxs-lookup"><span data-stu-id="fe687-116">Because the runtime updates automatically, test the web content in the WebView2 control against the non-stable versions of Microsoft Edge to ensure that your WebView2 application performs as expected.</span></span> <span data-ttu-id="fe687-117">Essa orientação é semelhante às orientações que damos aos desenvolvedores da Web.</span><span class="sxs-lookup"><span data-stu-id="fe687-117">This guidance is similar to the guidance that we give to web developers.</span></span> <span data-ttu-id="fe687-118">Para obter mais informações, navegue até [Permanecer compatível no modo Evergreen][Webview2ConceptsDistributionStayCompatibleEvergreenMode].</span><span class="sxs-lookup"><span data-stu-id="fe687-118">For more information, navigate to [Stay compatible in Evergreen mode][Webview2ConceptsDistributionStayCompatibleEvergreenMode].</span></span>

## <a name="ensure-apis-are-supported-by-the-installed-webview2-runtime"></a><span data-ttu-id="fe687-119">Verifique se as APIs são suportadas pelo Tempo de Execução do WebView2 instalado</span><span class="sxs-lookup"><span data-stu-id="fe687-119">Ensure APIs are supported by the installed WebView2 Runtime</span></span>

<span data-ttu-id="fe687-120">Os aplicativos WebView2 precisam de um SDK Webview2 e um WebView2 Runtime instalado no computador para execução.</span><span class="sxs-lookup"><span data-stu-id="fe687-120">WebView2 applications need both a Webview2 SDK, and a WebView2 Runtime installed on the computer to run.</span></span> <span data-ttu-id="fe687-121">O SDK e o tempo de execução são versionados.</span><span class="sxs-lookup"><span data-stu-id="fe687-121">Both the SDK and the runtime are versioned.</span></span> <span data-ttu-id="fe687-122">Como as APIs estão continuamente sendo adicionadas ao WebView2, novas versões do tempo de execução também são lançadas para dar suporte às novas APIs.</span><span class="sxs-lookup"><span data-stu-id="fe687-122">Since APIs are continually being added to WebView2, new versions of the runtime are also released to support the new APIs.</span></span> <span data-ttu-id="fe687-123">Você precisará garantir que as APIs usadas pelo aplicativo WebView2 sejam suportadas pelo Tempo de Execução webView2 instalado no computador.</span><span class="sxs-lookup"><span data-stu-id="fe687-123">You'll need to ensure that the APIs used by your WebView2 application are supported by the WebView2 Runtime that's installed on the computer.</span></span> 

<span data-ttu-id="fe687-124">Se você usar o Evergreen WebView2 Runtime, há alguns cenários em que o tempo de execução pode não ser atualizado para usar a versão mais recente.</span><span class="sxs-lookup"><span data-stu-id="fe687-124">If you use the Evergreen WebView2 Runtime, there are some scenarios where the runtime may not be updated to use the latest version.</span></span> <span data-ttu-id="fe687-125">Por exemplo, quando os usuários não têm acesso à Internet, o tempo de execução não é atualizado automaticamente nesse ambiente.</span><span class="sxs-lookup"><span data-stu-id="fe687-125">For example, when users don't have internet access, the runtime isn't  automatically updated in that environment.</span></span> <span data-ttu-id="fe687-126">Além disso, o uso de algumas políticas de grupo pausa as atualizações do WebView2.</span><span class="sxs-lookup"><span data-stu-id="fe687-126">Additionally, using some group policies pause WebView2 updates.</span></span> <span data-ttu-id="fe687-127">Quando você pressiona uma atualização para seu aplicativo WebView2, o aplicativo pode quebrar porque ele usa APIs mais novas que não estão disponíveis no tempo de execução instalado.</span><span class="sxs-lookup"><span data-stu-id="fe687-127">When you push an update to your WebView2 application, the application may break because it uses newer APIs that are not available in the installed runtime.</span></span>   
 
<span data-ttu-id="fe687-128">Para resolver essa situação, você pode testar a disponibilidade das APIs no tempo de execução instalado, antes que seu código chama a API.</span><span class="sxs-lookup"><span data-stu-id="fe687-128">To solve this situation, you can test for the availability of the APIs in the installed runtime, before your code calls the API.</span></span> <span data-ttu-id="fe687-129">Esse teste para funcionalidade mais nova é semelhante a outras práticas recomendadas de desenvolvimento da Web que detectam recursos com suporte antes de usar novas APIs da Web.</span><span class="sxs-lookup"><span data-stu-id="fe687-129">This test for newer functionality is similar to other web development best practices that detect supported features before using new web APIs.</span></span> <span data-ttu-id="fe687-130">Para testar a disponibilidade da API no tempo de execução instalado, use:</span><span class="sxs-lookup"><span data-stu-id="fe687-130">To test for API availability in the installed runtime, use:</span></span>
* <span data-ttu-id="fe687-131">O `queryinterface` em C/C++.</span><span class="sxs-lookup"><span data-stu-id="fe687-131">The `queryinterface` in C/C++.</span></span> 
* <span data-ttu-id="fe687-132">Um bloco try/catch em .NET ou WinUI.</span><span class="sxs-lookup"><span data-stu-id="fe687-132">A try/catch block in .NET or WinUI.</span></span> 
    
<span data-ttu-id="fe687-133">Para obter mais informações, navegue [até Determine WebView2 Runtime requirement][Webview2ConceptsVersioningDetermineWebview2RuntimeRequirement].</span><span class="sxs-lookup"><span data-stu-id="fe687-133">For more information, navigate to [Determine WebView2 Runtime requirement][Webview2ConceptsVersioningDetermineWebview2RuntimeRequirement].</span></span>  

## <a name="update-the-fixed-version-runtime"></a><span data-ttu-id="fe687-134">Atualizar o Tempo de Execução de Versão Fixa</span><span class="sxs-lookup"><span data-stu-id="fe687-134">Update the Fixed Version Runtime</span></span>  

<span data-ttu-id="fe687-135">Se você usar o Tempo de Execução de Versão Fixa, certifique-se de atualizar o tempo de execução regularmente para reduzir qualquer risco potencial de segurança.</span><span class="sxs-lookup"><span data-stu-id="fe687-135">If you use the Fixed Version Runtime, ensure you update your runtime regularly to reduce any potential security risk.</span></span> <span data-ttu-id="fe687-136">Ao usar conteúdo de terceiros em aplicativos Webview2, sempre considere o conteúdo não falso.</span><span class="sxs-lookup"><span data-stu-id="fe687-136">When using 3rd-party content in Webview2 applications, always consider the content untrusted.</span></span>  <span data-ttu-id="fe687-137">Para obter mais informações, navegue até [Modo de distribuição de Versão Fixa][Webview2ConceptsDistributionFixedVersionDistributionMode].</span><span class="sxs-lookup"><span data-stu-id="fe687-137">For more information, navigate to [Fixed Version distribution mode][Webview2ConceptsDistributionFixedVersionDistributionMode].</span></span>  

## <a name="manage-new-versions-of-the-runtime"></a><span data-ttu-id="fe687-138">Gerenciar novas versões do tempo de execução</span><span class="sxs-lookup"><span data-stu-id="fe687-138">Manage new versions of the runtime</span></span>  

<span data-ttu-id="fe687-139">Sempre que uma nova versão do Evergreen WebView2 Runtime é baixada para o dispositivo, os aplicativos WebView2 em execução continuam usando o tempo de execução anterior até que o processo do navegador seja lançado.</span><span class="sxs-lookup"><span data-stu-id="fe687-139">Whenever a new version of the Evergreen WebView2 Runtime is downloaded to the device, running WebView2 applications continue using the previous runtime until the browser process is released.</span></span> <span data-ttu-id="fe687-140">Esse comportamento permite que os aplicativos executem continuamente e impede que o tempo de execução anterior seja excluído.</span><span class="sxs-lookup"><span data-stu-id="fe687-140">This behavior allows applications to run continuously, and prevents the previous runtime from being deleted.</span></span> <span data-ttu-id="fe687-141">Para usar a nova versão do tempo de execução, você precisará liberar todas as referências aos objetos de ambiente WebView2 anteriores ou reiniciar seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="fe687-141">To use the new version of the runtime, you'll need to release all references to the previous WebView2 environment objects or restart your application.</span></span> <span data-ttu-id="fe687-142">Na próxima vez que você criar um novo ambiente WebView2, ele usará a nova versão.</span><span class="sxs-lookup"><span data-stu-id="fe687-142">The next time you create a new WebView2 environment, it will use the new version.</span></span>

<span data-ttu-id="fe687-143">Para tomar medidas quando uma nova versão estiver disponível, como notificar o usuário para reiniciar o aplicativo, você pode usar o [evento add_NewBrowserVersionAvailable(Win32)][Webview2ReferenceaddNewBrowserVersionAvailable] ou [CoreWebView2Environment.NewBrowserVersionAvailable(.NET)][Webview2ReferenceNewBrowserVersionAvailable] em seu código.</span><span class="sxs-lookup"><span data-stu-id="fe687-143">To take action when a new version is available, such as notifying the user to restart the application, you can use the [add_NewBrowserVersionAvailable(Win32)][Webview2ReferenceaddNewBrowserVersionAvailable] or [CoreWebView2Environment.NewBrowserVersionAvailable(.NET)][Webview2ReferenceNewBrowserVersionAvailable] event in your code.</span></span> <span data-ttu-id="fe687-144">Se o código manipular a reinicialização do aplicativo, considere salvar o estado do usuário antes que o aplicativo WebView2 saia.</span><span class="sxs-lookup"><span data-stu-id="fe687-144">If your code handles restarting the application, consider saving the user state before the WebView2 application exits.</span></span>  

## <a name="manage-the-lifetime-of-the-user-data-folder"></a><span data-ttu-id="fe687-145">Gerenciar o tempo de vida da pasta de dados do usuário</span><span class="sxs-lookup"><span data-stu-id="fe687-145">Manage the lifetime of the user data folder</span></span> 
<span data-ttu-id="fe687-146">Os aplicativos WebView2 criam uma pasta de dados do usuário para armazenar dados como cookies, credenciais, permissões e assim por diante.</span><span class="sxs-lookup"><span data-stu-id="fe687-146">WebView2 apps create a user data folder to store data such as cookies, credentials, permissions, and so on.</span></span> <span data-ttu-id="fe687-147">Depois de criar a pasta, seu aplicativo é responsável pelo gerenciamento do tempo de vida da pasta de dados do usuário, incluindo a limpeza quando o aplicativo é desinstalado.</span><span class="sxs-lookup"><span data-stu-id="fe687-147">After creating the folder, your app is responsible for managing the lifetime of the user data folder, including clean up when the app is uninstalled.</span></span>  <span data-ttu-id="fe687-148">Para obter mais informações, navegue até [Gerenciando a Pasta de Dados do Usuário.][Webview2ConceptsUserDataFolder]</span><span class="sxs-lookup"><span data-stu-id="fe687-148">For more information, navigate to [Managing the User Data Folder][Webview2ConceptsUserDataFolder].</span></span>  

## <a name="follow-recommended-webview2-security-best-practices"></a><span data-ttu-id="fe687-149">Siga as práticas recomendadas de segurança do WebView2</span><span class="sxs-lookup"><span data-stu-id="fe687-149">Follow recommended WebView2 security best practices</span></span> 
<span data-ttu-id="fe687-150">Para qualquer aplicativo WebView2, certifique-se de seguir nossas práticas recomendadas de segurança webView2.</span><span class="sxs-lookup"><span data-stu-id="fe687-150">For any WebView2 application, ensure you follow our recommended WebView2 security best practices.</span></span>  <span data-ttu-id="fe687-151">Para obter mais informações, navegue até [Práticas recomendadas para desenvolver aplicativos WebView2 seguros.][Webview2ConceptsSecurity]</span><span class="sxs-lookup"><span data-stu-id="fe687-151">For more information, navigate to [Best practices for developing secure WebView2 applications][Webview2ConceptsSecurity].</span></span>  


<!-- links -->  

[Webview2ConceptsDistributionDeployingEvergreenWebview2Runtime]: ../concepts/distribution.md#deploying-the-evergreen-webview2-runtime "Implantando o Tempo de Execução do Evergreen WebView2 - Distribuição de aplicativos usando o webView2 | Microsoft Docs"  
[Webview2ConceptsDistributionFixedVersionDistributionMode]: ../concepts/distribution.md#fixed-version-distribution-mode "Modo de distribuição de versão fixa - Distribuição de aplicativos usando webView2 | Microsoft Docs"  
[Webview2ConceptsDistributionStayCompatibleEvergreenMode]: ../concepts/distribution.md#stay-compatible-in-evergreen-mode "Mantenha-se compatível no modo Evergreen - Distribuição de aplicativos usando webView2 | Microsoft Docs"  
[Webview2ConceptsSecurity]: ../concepts/security.md "Práticas recomendadas para o desenvolvimento de aplicativos WebView2 seguros | Microsoft Docs"  
[Webview2ConceptsUserDataFolder]: ../concepts/user-data-folder.md "Gerenciar a pasta de dados do usuário | Microsoft Docs"  
[Webview2ConceptsVersioningDetermineWebview2RuntimeRequirement]: ../concepts/versioning.md#determine-webview2-runtime-requirement "Determinar o requisito de Tempo de Execução do WebView2 - Entenda as versões do SDK webView2 | Microsoft Docs"  
[Webview2GetStartedWin32]: ../get-started/win32.md "Começar com WebView2 | Microsoft Docs"  
[Webview2GetStartedWinforms]: ../get-started/winforms.md "Começar com o WebView2 no Windows Forms | Microsoft Docs"  
[Webview2GetStartedWinui]: ../get-started/winui.md "Começar com WebView2 no WinUI 3 (Visualização) | Microsoft Docs"  
[Webview2GetStartedWpf]: ../get-started/wpf.md "Começar com WebView2 no WPF | Microsoft Docs"  
[Webview2ReferenceaddNewBrowserVersionAvailable]: https://docs.microsoft.com/microsoft-edge/webview2/reference/win32/icorewebview2environment#add_newbrowserversionavailable "add_NewBrowserVersionAvailable | Microsoft Docs"  
[Webview2ReferenceNewBrowserVersionAvailable]: https://docs.microsoft.com/dotnet/api/microsoft.web.webview2.core.corewebview2environment.newbrowserversionavailable "Evento CoreWebView2Environment.NewBrowserVersionAvailable | Microsoft Docs"  