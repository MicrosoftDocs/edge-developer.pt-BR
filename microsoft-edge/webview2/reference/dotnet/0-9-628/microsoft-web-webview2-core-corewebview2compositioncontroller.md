---
description: Inserir tecnologias da Web (HTML, CSS e JavaScript) em seus aplicativos nativos com o controle WebView2 do Microsoft Edge
title: Microsoft. Web. WebView2. Core. CoreWebView2CompositionController
author: MSEdgeTeam
ms.author: msedgedevrel
ms.date: 09/10/2020
ms.topic: reference
ms.prod: microsoft-edge
ms.technology: webview
keywords: Microsoft. Web. WebView2, Core, WebView2, WebView, dotnet, WPF, WinForms, app, Edge, CoreWebView2, CoreWebView2Controller, controle do navegador, Edge HTML, Microsoft. Web. WebView2. Core. CoreWebView2CompositionController
ms.openlocfilehash: 51c6ebb12130632c5fb08e2992caf6ae83a478b1
ms.sourcegitcommit: 0faf538d5033508af4320b9b89c4ed99872f0574
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/10/2020
ms.locfileid: "11011519"
---
# <span data-ttu-id="d5f25-104">Classe Microsoft. Web. WebView2. Core. CoreWebView2CompositionController</span><span class="sxs-lookup"><span data-stu-id="d5f25-104">Microsoft.Web.WebView2.Core.CoreWebView2CompositionController class</span></span> 

[!INCLUDE [prerelease-note](../../includes/prerelease-note.md)]

<span data-ttu-id="d5f25-105">Namespace: Microsoft. Web. WebView2. Core </span><span class="sxs-lookup"><span data-stu-id="d5f25-105">Namespace: Microsoft.Web.WebView2.Core</span></span>\
<span data-ttu-id="d5f25-106">Assembly: Microsoft.Web.WebView2.Core.dll</span><span class="sxs-lookup"><span data-stu-id="d5f25-106">Assembly: Microsoft.Web.WebView2.Core.dll</span></span>

<span data-ttu-id="d5f25-107">Essa classe é uma extensão da classe CoreWebView2Controller para dar suporte à hospedagem Visual.</span><span class="sxs-lookup"><span data-stu-id="d5f25-107">This class is an extension of the CoreWebView2Controller class to support visual hosting.</span></span>

## <span data-ttu-id="d5f25-108">Resumo</span><span class="sxs-lookup"><span data-stu-id="d5f25-108">Summary</span></span>

 <span data-ttu-id="d5f25-109">Parte</span><span class="sxs-lookup"><span data-stu-id="d5f25-109">Members</span></span>                        | <span data-ttu-id="d5f25-110">Descrições</span><span class="sxs-lookup"><span data-stu-id="d5f25-110">Descriptions</span></span>
--------------------------------|---------------------------------------------
[<span data-ttu-id="d5f25-111">Cursor</span><span class="sxs-lookup"><span data-stu-id="d5f25-111">Cursor</span></span>](#cursor) | <span data-ttu-id="d5f25-112">O cursor atual que o WebView imagina que deveria estar.</span><span class="sxs-lookup"><span data-stu-id="d5f25-112">The current cursor that WebView thinks it should be.</span></span>
[<span data-ttu-id="d5f25-113">CursorChanged</span><span class="sxs-lookup"><span data-stu-id="d5f25-113">CursorChanged</span></span>](#cursorchanged) | <span data-ttu-id="d5f25-114">O evento é acionado quando o WebView pensa que o cursor deve ser alterado.</span><span class="sxs-lookup"><span data-stu-id="d5f25-114">The event fires when WebView thinks the cursor should be changed.</span></span>
[<span data-ttu-id="d5f25-115">RootVisualTarget</span><span class="sxs-lookup"><span data-stu-id="d5f25-115">RootVisualTarget</span></span>](#rootvisualtarget) | <span data-ttu-id="d5f25-116">O RootVisualTarget é um Visual na árvore visual do aplicativo de hospedagem.</span><span class="sxs-lookup"><span data-stu-id="d5f25-116">The RootVisualTarget is a visual in the hosting app's visual tree.</span></span>
[<span data-ttu-id="d5f25-117">UIAProvider</span><span class="sxs-lookup"><span data-stu-id="d5f25-117">UIAProvider</span></span>](#uiaprovider) | <span data-ttu-id="d5f25-118">Retorna o provedor de automação da interface do usuário da WebView.</span><span class="sxs-lookup"><span data-stu-id="d5f25-118">Returns the UI Automation Provider for the WebView.</span></span>
[<span data-ttu-id="d5f25-119">CreateCoreWebView2PointerInfoFromPointerId</span><span class="sxs-lookup"><span data-stu-id="d5f25-119">CreateCoreWebView2PointerInfoFromPointerId</span></span>](#createcorewebview2pointerinfofrompointerid) | <span data-ttu-id="d5f25-120">Uma função auxiliar para converter um ponteiroid recebido do sistema em um CoreWebView2PointerInfo.</span><span class="sxs-lookup"><span data-stu-id="d5f25-120">A helper function to convert a pointerId received from the system into a CoreWebView2PointerInfo.</span></span>
[<span data-ttu-id="d5f25-121">SendMouseInput</span><span class="sxs-lookup"><span data-stu-id="d5f25-121">SendMouseInput</span></span>](#sendmouseinput) | <span data-ttu-id="d5f25-122">Se eventKind for CoreWebView2MouseEventKind. HorizontalWheel ou CoreWebView2MouseEventKind. wheel, mouseData especificará a quantidade de movimento da roda.</span><span class="sxs-lookup"><span data-stu-id="d5f25-122">If eventKind is CoreWebView2MouseEventKind.HorizontalWheel or CoreWebView2MouseEventKind.Wheel, then mouseData specifies the amount of wheel movement.</span></span>
[<span data-ttu-id="d5f25-123">SendPointerInput</span><span class="sxs-lookup"><span data-stu-id="d5f25-123">SendPointerInput</span></span>](#sendpointerinput) | <span data-ttu-id="d5f25-124">SendPointerInput aceita entrada de ponteiro de toque ou caneta de tipos definidos em CoreWebView2PointerEventKind.</span><span class="sxs-lookup"><span data-stu-id="d5f25-124">SendPointerInput accepts touch or pen pointer input of types defined in CoreWebView2PointerEventKind.</span></span>

## <span data-ttu-id="d5f25-125">Parte</span><span class="sxs-lookup"><span data-stu-id="d5f25-125">Members</span></span>

#### <span data-ttu-id="d5f25-126">Cursor</span><span class="sxs-lookup"><span data-stu-id="d5f25-126">Cursor</span></span> 

<span data-ttu-id="d5f25-127">O cursor atual que o WebView imagina que deveria estar.</span><span class="sxs-lookup"><span data-stu-id="d5f25-127">The current cursor that WebView thinks it should be.</span></span>

> <span data-ttu-id="d5f25-128">[cursor](#cursor) de IntPtr público</span><span class="sxs-lookup"><span data-stu-id="d5f25-128">public IntPtr [Cursor](#cursor)</span></span>

<span data-ttu-id="d5f25-129">O cursor deve ser definido no WM_SETCURSOR pelo mouse. SetCursor ou definido no HWND pai/ancestral correspondente da WebView a SetClassLongPtr.</span><span class="sxs-lookup"><span data-stu-id="d5f25-129">The cursor should be set in WM_SETCURSOR through Mouse.SetCursor or set on the corresponding parent/ancestor HWND of the WebView through SetClassLongPtr.</span></span> <span data-ttu-id="d5f25-130">O HCURSOR pode ser liberado para que CopyCursor/DestroyCursor seja recomendado para manter sua própria cópia se você estiver fazendo mais do que configurar imediatamente o cursor.</span><span class="sxs-lookup"><span data-stu-id="d5f25-130">The HCURSOR can be freed so CopyCursor/DestroyCursor is recommended to keep your own copy if you are doing more than immediately setting the cursor.</span></span>

#### <span data-ttu-id="d5f25-131">CursorChanged</span><span class="sxs-lookup"><span data-stu-id="d5f25-131">CursorChanged</span></span> 

<span data-ttu-id="d5f25-132">O evento é acionado quando o WebView pensa que o cursor deve ser alterado.</span><span class="sxs-lookup"><span data-stu-id="d5f25-132">The event fires when WebView thinks the cursor should be changed.</span></span>

> <span data-ttu-id="d5f25-133">objeto<-EventHandler de evento público > [CursorChanged](#cursorchanged)</span><span class="sxs-lookup"><span data-stu-id="d5f25-133">public event EventHandler< object > [CursorChanged](#cursorchanged)</span></span>

<span data-ttu-id="d5f25-134">Por exemplo, quando o cursor do mouse é o cursor padrão no momento, mas é movido sobre o texto, ele pode tentar mudar para o cursor IBeam.</span><span class="sxs-lookup"><span data-stu-id="d5f25-134">For example, when the mouse cursor is currently the default cursor but is then moved over text, it may try to change to the IBeam cursor.</span></span> <span data-ttu-id="d5f25-135">Espera-se que o desenvolvedor envie mensagens CoreWebView2MouseEventKind. Leave (além de CoreWebView2MouseEventKind. move Messages) por meio da API SendMouseInput.</span><span class="sxs-lookup"><span data-stu-id="d5f25-135">It is expected for the developer to send CoreWebView2MouseEventKind.Leave messages (in addition to CoreWebView2MouseEventKind.Move messages) through the SendMouseInput API.</span></span> <span data-ttu-id="d5f25-136">Isso é para garantir que o mouse esteja realmente dentro do WebView que envia eventos CursorChanged.</span><span class="sxs-lookup"><span data-stu-id="d5f25-136">This is to ensure that the mouse is actually within the WebView that sends out CursorChanged events.</span></span>

#### <span data-ttu-id="d5f25-137">RootVisualTarget</span><span class="sxs-lookup"><span data-stu-id="d5f25-137">RootVisualTarget</span></span> 

<span data-ttu-id="d5f25-138">O RootVisualTarget é um Visual na árvore visual do aplicativo de hospedagem.</span><span class="sxs-lookup"><span data-stu-id="d5f25-138">The RootVisualTarget is a visual in the hosting app's visual tree.</span></span>

> <span data-ttu-id="d5f25-139">[RootVisualTarget](#rootvisualtarget) de objeto público</span><span class="sxs-lookup"><span data-stu-id="d5f25-139">public object [RootVisualTarget](#rootvisualtarget)</span></span>

<span data-ttu-id="d5f25-140">Esse visual é onde o WebView irá conectar sua árvore visual.</span><span class="sxs-lookup"><span data-stu-id="d5f25-140">This visual is where the WebView will connect its visual tree.</span></span> <span data-ttu-id="d5f25-141">O aplicativo usa esse visual para posicionar a WebView dentro do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="d5f25-141">The app uses this visual to position the WebView within the app.</span></span> <span data-ttu-id="d5f25-142">O aplicativo ainda precisa usar a propriedade Bounds para dimensionar o WebView.</span><span class="sxs-lookup"><span data-stu-id="d5f25-142">The app still needs to use the Bounds property to size the WebView.</span></span> <span data-ttu-id="d5f25-143">A propriedade RootVisualTarget pode ser uma IDCompositionVisual ou uma Windows:: UI:: composição:: ContainerVisual.</span><span class="sxs-lookup"><span data-stu-id="d5f25-143">The RootVisualTarget property can be an IDCompositionVisual or a Windows::UI::Composition::ContainerVisual.</span></span> <span data-ttu-id="d5f25-144">O WebView irá conectar sua árvore visual ao Visual fornecido antes de retornar do setter da propriedade.</span><span class="sxs-lookup"><span data-stu-id="d5f25-144">WebView will connect its visual tree to the provided visual before returning from the property setter.</span></span> <span data-ttu-id="d5f25-145">O aplicativo precisa confirmar seu dispositivo definindo a propriedade RootVisualTarget.</span><span class="sxs-lookup"><span data-stu-id="d5f25-145">The app needs to commit on its device setting the RootVisualTarget property.</span></span> <span data-ttu-id="d5f25-146">A propriedade RootVisualTarget dá suporte a ser definida como nullptr para desconectar o WebView da árvore visual do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="d5f25-146">The RootVisualTarget property supports being set to nullptr to disconnect the WebView from the app's visual tree.</span></span>

#### <span data-ttu-id="d5f25-147">UIAProvider</span><span class="sxs-lookup"><span data-stu-id="d5f25-147">UIAProvider</span></span> 

<span data-ttu-id="d5f25-148">Retorna o provedor de automação da interface do usuário da WebView.</span><span class="sxs-lookup"><span data-stu-id="d5f25-148">Returns the UI Automation Provider for the WebView.</span></span>

> <span data-ttu-id="d5f25-149">[UIAProvider](#uiaprovider) de objeto público</span><span class="sxs-lookup"><span data-stu-id="d5f25-149">public object [UIAProvider](#uiaprovider)</span></span>

#### <span data-ttu-id="d5f25-150">CreateCoreWebView2PointerInfoFromPointerId</span><span class="sxs-lookup"><span data-stu-id="d5f25-150">CreateCoreWebView2PointerInfoFromPointerId</span></span> 

<span data-ttu-id="d5f25-151">Uma função auxiliar para converter um ponteiroid recebido do sistema em um CoreWebView2PointerInfo.</span><span class="sxs-lookup"><span data-stu-id="d5f25-151">A helper function to convert a pointerId received from the system into a CoreWebView2PointerInfo.</span></span>

> <span data-ttu-id="d5f25-152">Public [CoreWebView2PointerInfo](microsoft-web-webview2-core-corewebview2pointerinfo.md) [CreateCoreWebView2PointerInfoFromPointerId](#createcorewebview2pointerinfofrompointerid)(Ponteiroid uint, IntPtr ParentWindow, Matrix4x4 Transform)</span><span class="sxs-lookup"><span data-stu-id="d5f25-152">public [CoreWebView2PointerInfo](microsoft-web-webview2-core-corewebview2pointerinfo.md) [CreateCoreWebView2PointerInfoFromPointerId](#createcorewebview2pointerinfofrompointerid)(uint PointerId, IntPtr ParentWindow, Matrix4x4 transform)</span></span>

<span data-ttu-id="d5f25-153">parentWindow é o HWND que contém o WebView.</span><span class="sxs-lookup"><span data-stu-id="d5f25-153">parentWindow is the HWND that contains the WebView.</span></span> <span data-ttu-id="d5f25-154">Isso pode ser qualquer HWND na árvore HWND que contém o WebView.</span><span class="sxs-lookup"><span data-stu-id="d5f25-154">This can be any HWND in the hwnd tree that contains the WebView.</span></span> <span data-ttu-id="d5f25-155">O CoreWebView2Matrix4x4 é a transformação desse HWND para o WebView.</span><span class="sxs-lookup"><span data-stu-id="d5f25-155">The CoreWebView2Matrix4x4 is the transform from that HWND to the WebView.</span></span> <span data-ttu-id="d5f25-156">O CoreWebView2PointerInfo retornado é usado no SendPointerInfo.</span><span class="sxs-lookup"><span data-stu-id="d5f25-156">The returned CoreWebView2PointerInfo is used in SendPointerInfo.</span></span> <span data-ttu-id="d5f25-157">O tipo de ponteiro deve ser Pen ou touch, ou a função falhará.</span><span class="sxs-lookup"><span data-stu-id="d5f25-157">The pointer type must be either pen or touch or the function will fail.</span></span>

#### <span data-ttu-id="d5f25-158">SendMouseInput</span><span class="sxs-lookup"><span data-stu-id="d5f25-158">SendMouseInput</span></span> 

<span data-ttu-id="d5f25-159">Se eventKind for CoreWebView2MouseEventKind. HorizontalWheel ou CoreWebView2MouseEventKind. wheel, mouseData especificará a quantidade de movimento da roda.</span><span class="sxs-lookup"><span data-stu-id="d5f25-159">If eventKind is CoreWebView2MouseEventKind.HorizontalWheel or CoreWebView2MouseEventKind.Wheel, then mouseData specifies the amount of wheel movement.</span></span>

> <span data-ttu-id="d5f25-160">public void [SendMouseInput](#sendmouseinput)([CoreWebView2MouseEventKind](./namespace-microsoft-web-webview2-core.md) eventKind, [CoreWebView2MouseEventVirtualKeys](./namespace-microsoft-web-webview2-core.md) virtualKeys, uint mouseData, Point Point)</span><span class="sxs-lookup"><span data-stu-id="d5f25-160">public void [SendMouseInput](#sendmouseinput)([CoreWebView2MouseEventKind](./namespace-microsoft-web-webview2-core.md) eventKind, [CoreWebView2MouseEventVirtualKeys](./namespace-microsoft-web-webview2-core.md) virtualKeys, uint mouseData, Point point)</span></span>

<span data-ttu-id="d5f25-161">Um valor positivo indica que a roda foi girada para frente, longe do usuário; um valor negativo indica que a roda foi girada para trás, em direção ao usuário.</span><span class="sxs-lookup"><span data-stu-id="d5f25-161">A positive value indicates that the wheel was rotated forward, away from the user; a negative value indicates that the wheel was rotated backward, toward the user.</span></span> <span data-ttu-id="d5f25-162">Um clique em roda é definido como WHEEL_DELTA, que é 120.</span><span class="sxs-lookup"><span data-stu-id="d5f25-162">One wheel click is defined as WHEEL_DELTA, which is 120.</span></span> <span data-ttu-id="d5f25-163">Se eventKind for CoreWebView2MouseEventKind. XButtonDoubleClick CoreWebView2MouseEventKind. XButtonDown ou CoreWebView2MouseEventKind. XButtonUp, mouseData especificará quais botões X foram pressionados ou liberados.</span><span class="sxs-lookup"><span data-stu-id="d5f25-163">If eventKind is CoreWebView2MouseEventKind.XButtonDoubleClick CoreWebView2MouseEventKind.XButtonDown, or CoreWebView2MouseEventKind.XButtonUp, then mouseData specifies which X buttons were pressed or released.</span></span> <span data-ttu-id="d5f25-164">Esse valor deve ser 1 se o primeiro botão X for pressionado/liberado e 2 se o segundo botão X for pressionado/liberado.</span><span class="sxs-lookup"><span data-stu-id="d5f25-164">This value should be 1 if the first X button is pressed/released and 2 if the second X button is pressed/released.</span></span> <span data-ttu-id="d5f25-165">Se eventKind for CoreWebView2MouseEventKind. leave, virtualKeys, mouseData e Point deverão ser zero.</span><span class="sxs-lookup"><span data-stu-id="d5f25-165">If eventKind is CoreWebView2MouseEventKind.Leave, then virtualKeys, mouseData, and point should all be zero.</span></span> <span data-ttu-id="d5f25-166">Se eventKind for qualquer outro valor, então mouseData deve ser zero.</span><span class="sxs-lookup"><span data-stu-id="d5f25-166">If eventKind is any other value, then mouseData should be zero.</span></span> <span data-ttu-id="d5f25-167">O ponto deve estar no espaço de coordenadas do cliente da WebView.</span><span class="sxs-lookup"><span data-stu-id="d5f25-167">Point is expected to be in the client coordinate space of the WebView.</span></span> <span data-ttu-id="d5f25-168">Para acompanhar eventos do mouse que começam na WebView e podem ser movidos para fora do WebView e do aplicativo host, é recomendável chamar SetCapture e ReleaseCapture.</span><span class="sxs-lookup"><span data-stu-id="d5f25-168">To track mouse events that start in the WebView and can potentially move outside of the WebView and host application, calling SetCapture and ReleaseCapture is recommended.</span></span> <span data-ttu-id="d5f25-169">Para descartar pop-ups de foco, também é recomendável enviar mensagens de CoreWebView2MouseEventKind. leave.</span><span class="sxs-lookup"><span data-stu-id="d5f25-169">To dismiss hover popups, it is also recommended to send CoreWebView2MouseEventKind.Leave messages.</span></span>

#### <span data-ttu-id="d5f25-170">SendPointerInput</span><span class="sxs-lookup"><span data-stu-id="d5f25-170">SendPointerInput</span></span> 

<span data-ttu-id="d5f25-171">SendPointerInput aceita entrada de ponteiro de toque ou caneta de tipos definidos em CoreWebView2PointerEventKind.</span><span class="sxs-lookup"><span data-stu-id="d5f25-171">SendPointerInput accepts touch or pen pointer input of types defined in CoreWebView2PointerEventKind.</span></span>

> <span data-ttu-id="d5f25-172">public void [SendPointerInput](#sendpointerinput)([CoreWebView2PointerEventKind](./namespace-microsoft-web-webview2-core.md) eventKind, [CoreWebView2PointerInfo](microsoft-web-webview2-core-corewebview2pointerinfo.md) pointerInfo)</span><span class="sxs-lookup"><span data-stu-id="d5f25-172">public void [SendPointerInput](#sendpointerinput)([CoreWebView2PointerEventKind](./namespace-microsoft-web-webview2-core.md) eventKind, [CoreWebView2PointerInfo](microsoft-web-webview2-core-corewebview2pointerinfo.md) pointerInfo)</span></span>

<span data-ttu-id="d5f25-173">Qualquer entrada de ponteiro do sistema deve ser convertida em um CoreWebView2PointerInfo primeiro.</span><span class="sxs-lookup"><span data-stu-id="d5f25-173">Any pointer input from the system must be converted into a CoreWebView2PointerInfo first.</span></span>

